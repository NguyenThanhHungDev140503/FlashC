<!DOCTYPE html>
<html>
<head>
    <title>SVG to PNG Converter</title>
</head>
<body>
    <canvas id="canvas" style="display: none;"></canvas>
    <script>
        async function convertSvgToPng() {
            try {
                // Đọc SVG file
                const svgResponse = await fetch('../assets/images/icon.svg');
                const svgText = await svgResponse.text();
                
                // Tạo Image từ SVG
                const img = new Image();
                const canvas = document.getElementById('canvas');
                const ctx = canvas.getContext('2d');
                
                return new Promise((resolve, reject) => {
                    img.onload = function() {
                        // Tạo icon 1024x1024
                        canvas.width = 1024;
                        canvas.height = 1024;
                        ctx.fillStyle = 'white';
                        ctx.fillRect(0, 0, 1024, 1024);
                        ctx.drawImage(img, 0, 0, 1024, 1024);
                        
                        // Download icon
                        const iconLink = document.createElement('a');
                        iconLink.download = 'icon.png';
                        iconLink.href = canvas.toDataURL('image/png');
                        iconLink.click();
                        
                        // Tạo favicon 48x48
                        canvas.width = 48;
                        canvas.height = 48;
                        ctx.fillStyle = 'white';
                        ctx.fillRect(0, 0, 48, 48);
                        ctx.drawImage(img, 0, 0, 48, 48);
                        
                        // Download favicon
                        const faviconLink = document.createElement('a');
                        faviconLink.download = 'favicon.png';
                        faviconLink.href = canvas.toDataURL('image/png');
                        faviconLink.click();
                        
                        resolve();
                    };
                    
                    img.onerror = reject;
                    
                    // Convert SVG to data URL
                    const svgBlob = new Blob([svgText], { type: 'image/svg+xml' });
                    const url = URL.createObjectURL(svgBlob);
                    img.src = url;
                });
            } catch (error) {
                console.error('Error converting SVG to PNG:', error);
            }
        }
        
        // Auto convert when page loads
        window.onload = convertSvgToPng;
    </script>
    <h2>Converting SVG to PNG...</h2>
    <p>Các file PNG sẽ được tự động download.</p>
</body>
</html>